import{d as w,s as _,i,c as q,j as I,o as d,a as v,m as s,w as r,e as t,F as L,r as P,C as S,E as U}from"./index-CSq49O89.js";import{E as j,a as z}from"./el-form-item-D2KaSZi6.js";import"./el-tag-DCrYKok3.js";import{E as D,a as M}from"./el-select-myCgb1GQ.js";import{c as N,d as O}from"./paypal-DPZQbWTa.js";import{P as T}from"./index-BSLFXMtF.js";const A={class:"edit-popup"},G=w({name:"articleColumnEdit"}),Z=w({...G,emits:["success","close"],setup(H,{expose:y,emit:g}){const p=g,m=_(),n=_();i("add");const b=q(()=>"分配通道"),u=i(!1),c=i([]),a=I({uid:"",payid:"",rate:""}),h={uid:[{required:!0,message:"请选择要分配的用户",trigger:["blur"]}],rate:[{required:!0,message:"请输入费率",trigger:["blur"]}]},E=async l=>{u.value=!0;const e=await N({keyword:l,page_size:50});u.value=!1,c.value=e.lists},k=async()=>{var l,e;await((l=m.value)==null?void 0:l.validate()),await O(a),(e=n.value)==null||e.close(),p("success")},x=l=>{var e;a.payid=l.id,(e=n.value)==null||e.open()},C=()=>{p("close")};return y({open:x}),(l,e)=>{const V=D,R=M,f=j,F=U,B=z;return d(),v("div",A,[s(T,{ref_key:"popupRef",ref:n,title:t(b),async:!0,width:"550px",onConfirm:k,onClose:C,center:""},{default:r(()=>[s(B,{ref_key:"formRef",ref:m,model:t(a),"label-width":"120px",rules:h},{default:r(()=>[s(f,{label:"分配的用户",prop:"uid"},{default:r(()=>[s(R,{modelValue:t(a).uid,"onUpdate:modelValue":e[0]||(e[0]=o=>t(a).uid=o),filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键字进行搜索","remote-show-suffix":"","remote-method":E,loading:t(u),style:{width:"240px"}},{default:r(()=>[(d(!0),v(L,null,P(t(c),o=>(d(),S(V,{key:o.id,label:o.name+"("+o.account+")",value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),s(f,{label:"费率",prop:"rate"},{default:r(()=>[s(F,{modelValue:t(a).rate,"onUpdate:modelValue":e[1]||(e[1]=o=>t(a).rate=o),placeholder:"请输入费率",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{Z as _};
