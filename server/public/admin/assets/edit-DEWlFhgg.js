import{_ as j}from"./index-Oz8ZN4Ws.js";import{d as w,g as I,h as L,j as v,M as O,s as T,o as _,a as E,m as o,w as a,e as r,b as s,F as A,r as M,C as z,p as d,E as G,L as H,v as P}from"./index-CSq49O89.js";import{E as J,a as K}from"./el-form-item-D2KaSZi6.js";import{_ as Q}from"./index.vue_vue_type_style_index_0_lang-Czh617Y2.js";/* empty css                       */import{E as W,a as X}from"./el-radio-XfEkhgbg.js";import{_ as Y}from"./picker-B5B6R_zK.js";import"./el-tag-DCrYKok3.js";import{E as Z,a as h}from"./el-select-myCgb1GQ.js";import{E as ee}from"./el-card-1PlMbrNj.js";import{E as oe}from"./el-page-header-CWhdhJV8.js";import{f as te,h as le,i as ae,j as re}from"./goods-D00gdu2c.js";import{u as se}from"./useDictOptions-B46o9f4U.js";import"./_baseClone-BTZRmIOm.js";import"./_Uint8Array-RBynhHOx.js";import"./_initCloneObject-BqQRiPFL.js";import"./index-BSLFXMtF.js";import"./index-CB0jx4a8.js";import"./index-B54jx6w6.js";import"./index.vue_vue_type_script_setup_true_lang-CwpZ7A-x.js";import"./isEqual-CRCllESj.js";import"./el-table-column-afY-Q-c0.js";import"./el-checkbox-Duk-MLvO.js";import"./index-Kx7Gr6CY.js";import"./index-Dyr4F-P4.js";import"./el-tree-CPgl9nFa.js";import"./token-DI9FKtlJ.js";import"./index.vue_vue_type_script_setup_true_lang-aMUdrref.js";import"./el-popover-B8L4KBZS.js";import"./usePaging-BVI2Oa_R.js";import"./index-DaxyzSap.js";const ne={class:"goods-edit"},ue={class:"xl:flex"},de={class:"w-80"},me={class:"w-80"},ie={class:"w-80"},pe={class:"xl:ml-20"},_e=w({name:"goodsListsEdit"}),Je=w({..._e,setup(fe){const i=I(),y=L(),t=v({id:"",cid:"",name:"",image:"",amount:"",reality_amount:"",fee_type:"",content:"",sort:0,status:1}),{removeTab:U}=O(),f=T(),q=v({name:[{required:!0,message:"请输入标题",trigger:"blur"}],cid:[{required:!0,message:"请选择分类",trigger:"blur"}],image:[{required:!0,message:"请上传商品图片",trigger:"blur"}],amount:[{required:!0,message:"请填写商品价格",trigger:"blur"}],reality_amount:[{required:!0,message:"请填写商品实际价格",trigger:"blur"}]}),x=async()=>{const u=await te({id:i.query.id});Object.keys(t).forEach(e=>{t[e]=u[e]})},{optionsData:k}=se({goods_cate:{api:le}}),R=async()=>{var u;await((u=f.value)==null?void 0:u.validate()),i.query.id?await ae(t):await re(t),U(),y.back()};return i.query.id&&x(),(u,e)=>{const D=oe,g=ee,c=Z,b=h,n=J,p=G,B=Y,m=W,V=X,C=H,F=Q,N=K,S=P,$=j;return _(),E("div",ne,[o(g,{class:"!border-none",shadow:"never"},{default:a(()=>[o(D,{content:u.$route.meta.title,onBack:e[0]||(e[0]=l=>u.$router.back())},null,8,["content"])]),_:1}),o(g,{class:"mt-4 !border-none",shadow:"never"},{default:a(()=>[o(N,{ref_key:"formRef",ref:f,class:"ls-form",model:r(t),"label-width":"85px",rules:r(q)},{default:a(()=>[s("div",ue,[s("div",null,[o(n,{label:"分类",prop:"cid"},{default:a(()=>[o(b,{class:"w-80",modelValue:r(t).cid,"onUpdate:modelValue":e[1]||(e[1]=l=>r(t).cid=l),placeholder:"请选择分类",clearable:""},{default:a(()=>[(_(!0),E(A,null,M(r(k).goods_cate,l=>(_(),z(c,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"标题",prop:"name"},{default:a(()=>[s("div",de,[o(p,{modelValue:r(t).name,"onUpdate:modelValue":e[2]||(e[2]=l=>r(t).name=l),placeholder:"请输入标题",type:"textarea",autosize:{minRows:3,maxRows:3},maxlength:"64","show-word-limit":"",clearable:""},null,8,["modelValue"])])]),_:1}),o(n,{label:"封面",prop:"image"},{default:a(()=>[s("div",null,[s("div",null,[o(B,{modelValue:r(t).image,"onUpdate:modelValue":e[3]||(e[3]=l=>r(t).image=l),limit:1},null,8,["modelValue"])]),e[11]||(e[11]=s("div",{class:"form-tips"},"建议尺寸：240*180px",-1))])]),_:1}),o(n,{label:"商品价格",prop:"amount"},{default:a(()=>[s("div",me,[o(p,{modelValue:r(t).amount,"onUpdate:modelValue":e[4]||(e[4]=l=>r(t).amount=l),placeholder:"请输入商品价格"},null,8,["modelValue"])])]),_:1}),o(n,{label:"实际价格",prop:"reality_amount"},{default:a(()=>[s("div",ie,[o(p,{modelValue:r(t).reality_amount,"onUpdate:modelValue":e[5]||(e[5]=l=>r(t).reality_amount=l),placeholder:"请输入商品实际价格"},null,8,["modelValue"])])]),_:1}),o(n,{label:"价格单位",required:"",prop:"fee_type"},{default:a(()=>[o(b,{class:"w-80",modelValue:r(t).fee_type,"onUpdate:modelValue":e[6]||(e[6]=l=>r(t).fee_type=l),placeholder:"价格单位",clearable:""},{default:a(()=>[o(c,{label:"USD",value:"USD"})]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"状态",required:"",prop:"status"},{default:a(()=>[o(V,{modelValue:r(t).status,"onUpdate:modelValue":e[7]||(e[7]=l=>r(t).status=l)},{default:a(()=>[o(m,{value:1},{default:a(()=>e[12]||(e[12]=[d("显示")])),_:1}),o(m,{value:0},{default:a(()=>e[13]||(e[13]=[d("隐藏")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"排序",prop:"sort"},{default:a(()=>[s("div",null,[o(C,{modelValue:r(t).sort,"onUpdate:modelValue":e[8]||(e[8]=l=>r(t).sort=l),min:0,max:9999},null,8,["modelValue"]),e[14]||(e[14]=s("div",{class:"form-tips"},"默认为0， 数值越大越排前",-1))])]),_:1}),o(n,{label:"状态",required:"",prop:"status"},{default:a(()=>[o(V,{modelValue:r(t).status,"onUpdate:modelValue":e[9]||(e[9]=l=>r(t).status=l)},{default:a(()=>[o(m,{value:1},{default:a(()=>e[15]||(e[15]=[d("显示")])),_:1}),o(m,{value:0},{default:a(()=>e[16]||(e[16]=[d("隐藏")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),s("div",pe,[o(n,{label:"内容",prop:"content"},{default:a(()=>[o(F,{modelValue:r(t).content,"onUpdate:modelValue":e[10]||(e[10]=l=>r(t).content=l),height:667,width:375},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model","rules"])]),_:1}),o($,null,{default:a(()=>[o(S,{type:"primary",onClick:R},{default:a(()=>e[17]||(e[17]=[d("保存")])),_:1})]),_:1})])}}});export{Je as default};
