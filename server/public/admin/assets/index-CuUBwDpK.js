import{d as g,X as S,V as C,j as A,fj as f,k as E,O as B,o as x,a as _,b as t,m as r,w as i,t as n,e as o,p as m,F as z,r as V,fk as D,v as N,_ as R}from"./index-CSq49O89.js";import{E as j}from"./el-card-1PlMbrNj.js";import{H as h}from"./index.esm.min-D5bm9an6.js";import{u as y}from"./getExposeType-De71D6lo.js";const F={class:"workbench"},W={class:"lg:flex"},G={class:"flex leading-9"},H={class:"flex leading-9"},L={class:"flex leading-9"},M=["href"],T=["href"],X={class:"text-tx-secondary text-xs ml-4"},q={class:"flex flex-wrap"},I={class:"w-1/2 md:w-1/4"},J={class:"text-6xl"},K={class:"text-tx-secondary text-xs"},P={class:"w-1/2 md:w-1/4"},Q={class:"text-6xl"},U={class:"text-tx-secondary text-xs"},Y={class:"w-1/2 md:w-1/4"},Z={class:"text-6xl"},$={class:"text-tx-secondary text-xs"},tt={class:"w-1/2 md:w-1/4"},et={class:"text-6xl"},st={class:"text-tx-secondary text-xs"},ot={class:"function mb-4"},at={class:"flex flex-wrap"},lt={class:"mt-2"},it={class:"lg:flex gap-4"},nt=g({name:"workbench"}),ut=g({...nt,setup(rt){const l=S(),v=y(),u=y();C(()=>l.theme,()=>{b()});const s=A({version:{version:"",website:"",based:"",channel:{gitee:"",website:""}},support:[],today:{},menu:[],visitor:[],article:[],visitorOption:{xAxis:{type:"category",data:[]},yAxis:{type:"value"},legend:{data:["访问量"]},tooltip:{trigger:"axis"},series:[{name:"访问量",data:[],type:"line",smooth:!0,color:l.theme,lineStyle:{color:l.theme,width:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:l.theme},{offset:1,color:l.theme}]},opacity:.1}}]},saleOption:{xAxis:{type:"category",data:[]},yAxis:{type:"value",name:"单位（万）"},tooltip:{trigger:"axis"},series:[{name:"销售量",data:[],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderRadius:[10,10,0,0]},barWidth:"40%",itemStyle:{borderRadius:[10,10,0,0],color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:f(l.theme,.7)},{offset:1,color:l.theme}]}}}]}}),w=()=>{D().then(a=>{s.version=a.version,s.today=a.today,s.menu=a.menu,s.visitor=a.visitor,s.support=a.support,s.visitorOption.xAxis.data=[],s.visitorOption.series[0].data=[],s.saleOption.xAxis.data=[],s.saleOption.series[0].data=[],a.visitor.date.reverse().forEach(e=>{s.visitorOption.xAxis.data.push(e)}),a.visitor.list[0].data.forEach(e=>{s.visitorOption.series[0].data.push(e)}),a.sale.date.reverse().forEach(e=>{s.saleOption.xAxis.data.push(e)}),a.sale.list[0].data.forEach(e=>{e<=50&&(e={value:e,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:f("#ff8729",.7)},{offset:1,color:"#ff8729"}]}}}),s.saleOption.series[0].data.push(e)})}).catch(a=>{console.log("err",a)})},b=()=>{var a,e,p,d;s.visitorOption.series[0].color=l.theme,s.visitorOption.series[0].lineStyle.color=l.theme,s.visitorOption.series[0].areaStyle.color.colorStops=[{offset:0,color:l.theme},{offset:1,color:l.theme}],s.saleOption.series[0].itemStyle.color.colorStops=[{offset:0,color:f(l.theme,.7)},{offset:1,color:l.theme}],(a=v.value)==null||a.clear(),(e=u.value)==null||e.clear(),(p=v.value)==null||p.setOption(s.saleOption),(d=u.value)==null||d.setOption(s.visitorOption)};return E(()=>{w()}),(a,e)=>{const p=N,d=j,O=R,k=B("router-link");return x(),_("div",F,[t("div",W,[r(d,{class:"!border-none mb-4 lg:mr-4 lg:w-[350px]",shadow:"never"},{header:i(()=>e[0]||(e[0]=[t("span",{class:"card-title"},"版本信息",-1)])),default:i(()=>[t("div",null,[t("div",G,[e[1]||(e[1]=t("div",{class:"w-20"},"平台名称",-1)),t("span",null,n(o(s).version.name),1)]),t("div",H,[e[2]||(e[2]=t("div",{class:"w-20"},"当前版本",-1)),t("span",null,n(o(s).version.version),1)]),t("div",L,[e[5]||(e[5]=t("div",{class:"w-20"},"获取渠道",-1)),t("div",null,[t("a",{href:o(s).version.channel.website,target:"_blank"},[r(p,{type:"success",size:"small"},{default:i(()=>e[3]||(e[3]=[m("官网")])),_:1})],8,M),t("a",{class:"ml-3",href:o(s).version.channel.gitee,target:"_blank"},[r(p,{type:"danger",size:"small"},{default:i(()=>e[4]||(e[4]=[m("Gitee")])),_:1})],8,T)])])])]),_:1}),r(d,{class:"!border-none mb-4 flex-1",shadow:"never"},{header:i(()=>[t("div",null,[e[6]||(e[6]=t("span",{class:"card-title"},"今日数据",-1)),t("span",X," 更新时间："+n(o(s).today.time),1)])]),default:i(()=>[t("div",q,[t("div",I,[e[7]||(e[7]=t("div",{class:"leading-10"},"销售额",-1)),t("div",J,n(o(s).today.today_sales),1),t("div",K," 总："+n(o(s).today.total_sales),1)]),t("div",P,[e[8]||(e[8]=t("div",{class:"leading-10"},"成交订单",-1)),t("div",Q,n(o(s).today.order_num),1),t("div",U," 总："+n(o(s).today.order_sum),1)]),t("div",Y,[e[9]||(e[9]=t("div",{class:"leading-10"},"新增用户",-1)),t("div",Z,n(o(s).today.today_new_user),1),t("div",$," 总："+n(o(s).today.total_new_user),1)]),t("div",tt,[e[10]||(e[10]=t("div",{class:"leading-10"},"新增访问量",-1)),t("div",et,n(o(s).today.today_visitor),1),t("div",st," 总："+n(o(s).today.total_visitor),1)])])]),_:1})]),t("div",ot,[r(d,{class:"flex-1 !border-none",shadow:"never"},{header:i(()=>e[11]||(e[11]=[t("span",null,"常用功能",-1)])),default:i(()=>[t("div",at,[(x(!0),_(z,null,V(o(s).menu,c=>(x(),_("div",{class:"md:w-[12.5%] w-1/4 flex flex-col items-center",key:c},[r(k,{to:c.url,class:"mb-3 flex flex-col items-center"},{default:i(()=>[r(O,{width:"40px",height:"40px",src:c==null?void 0:c.image},null,8,["src"]),t("div",lt,n(c.name),1)]),_:2},1032,["to"])]))),128))])]),_:1})]),t("div",it,[r(d,{class:"!border-none mb-4 lg:mb-0 w-full lg:w-2/3",shadow:"never"},{header:i(()=>e[12]||(e[12]=[t("span",null,"访问量趋势图",-1)])),default:i(()=>[t("div",null,[r(o(h),{ref_key:"visitorChart",ref:u,style:{height:"350px"},option:o(s).visitorOption,autoresize:!0},null,8,["option"])])]),_:1}),r(d,{class:"!border-none w-full lg:w-1/3",shadow:"never"},{header:i(()=>e[13]||(e[13]=[t("span",null,"销售额趋势图",-1)])),default:i(()=>[t("div",null,[r(o(h),{ref_key:"saleChart",ref:v,style:{height:"350px"},option:o(s).saleOption,autoresize:!0},null,8,["option"])])]),_:1})])])}}});export{ut as default};
