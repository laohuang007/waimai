import{d as y,s as V,i,c as O,j as v,o as p,a as w,m as t,w as r,e as o,b as n,F as P,r as j,C as I,E as N}from"./index-CSq49O89.js";import{E as z,a as A}from"./el-form-item-D2KaSZi6.js";import{_ as L}from"./index.vue_vue_type_style_index_0_lang-Czh617Y2.js";import"./el-tag-DCrYKok3.js";import{E as T,a as $}from"./el-select-myCgb1GQ.js";import{_ as H}from"./picker-B5B6R_zK.js";import{t as J,p as K,v as M}from"./goods-D00gdu2c.js";import{P as Q}from"./index-BSLFXMtF.js";const W={class:"edit-popup"},X={class:"xl:flex"},Y={class:"w-80"},Z={class:"w-80"},ee={class:"w-80"},le={class:"xl:ml-20"},oe=y({name:"articleColumnEdit"}),pe=y({...oe,emits:["success","close"],setup(te,{expose:x,emit:E}){const c=E,_=V(),m=V();i("add");const U=O(()=>"创建订单");i(!1);const f=i([]),l=v({id:"",name:"",image:"",amount:"",order_amount:"",fee_type:"",payid:"",content:""}),h=v({name:[{required:!0,message:"请输入标题",trigger:"blur"}],image:[{required:!0,message:"请上传商品图片",trigger:"blur"}],amount:[{required:!0,message:"请填写商品价格",trigger:"blur"}],order_amount:[{required:!0,message:"请填写订单实际价格",trigger:"blur"}],payid:[{required:!0,message:"请选择支付通道",trigger:"blur"}],fee_type:[{required:!0,message:"请选择货币单位",trigger:"blur"}]}),q=async()=>{var e;await((e=_.value)==null?void 0:e.validate());const s=await J(l);c("success",s)},k=()=>{var s;(s=m.value)==null||s.open()},C=()=>{var s;(s=m.value)==null||s.close()},R=async s=>{const e=await K({id:s.id});Object.keys(l).forEach(u=>{l[u]=e[u]}),f.value=await M({id:s.id})},D=()=>{c("close")};return x({open:k,close:C,getDetail:R}),(s,e)=>{const u=N,d=z,B=H,g=T,b=$,F=L,S=A;return p(),w("div",W,[t(Q,{ref_key:"popupRef",ref:m,title:o(U),async:!0,width:"550px",onConfirm:q,onClose:D,center:""},{default:r(()=>[t(S,{ref_key:"formRef",ref:_,class:"ls-form",model:o(l),"label-width":"85px",rules:o(h)},{default:r(()=>[n("div",X,[n("div",null,[t(d,{label:"标题",prop:"name"},{default:r(()=>[n("div",Y,[t(u,{modelValue:o(l).name,"onUpdate:modelValue":e[0]||(e[0]=a=>o(l).name=a),placeholder:"请输入标题",type:"textarea",autosize:{minRows:3,maxRows:3},maxlength:"64","show-word-limit":"",clearable:""},null,8,["modelValue"])])]),_:1}),t(d,{label:"封面",prop:"image"},{default:r(()=>[n("div",null,[n("div",null,[t(B,{modelValue:o(l).image,"onUpdate:modelValue":e[1]||(e[1]=a=>o(l).image=a),limit:1},null,8,["modelValue"])]),e[7]||(e[7]=n("div",{class:"form-tips"},"建议尺寸：240*180px",-1))])]),_:1}),t(d,{label:"商品价格",prop:"amount"},{default:r(()=>[n("div",Z,[t(u,{modelValue:o(l).amount,"onUpdate:modelValue":e[2]||(e[2]=a=>o(l).amount=a),placeholder:"请输入商品价格"},null,8,["modelValue"])])]),_:1}),t(d,{label:"实际价格",prop:"order_amount"},{default:r(()=>[n("div",ee,[t(u,{modelValue:o(l).order_amount,"onUpdate:modelValue":e[3]||(e[3]=a=>o(l).order_amount=a),placeholder:"请输入订单实际价格"},null,8,["modelValue"])])]),_:1}),t(d,{label:"价格单位",required:"",prop:"fee_type"},{default:r(()=>[t(b,{class:"w-80",modelValue:o(l).fee_type,"onUpdate:modelValue":e[4]||(e[4]=a=>o(l).fee_type=a),placeholder:"价格单位",clearable:""},{default:r(()=>[t(g,{label:"USD",value:"USD"})]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"支付通道",required:"",prop:"payid"},{default:r(()=>[t(b,{class:"w-80",modelValue:o(l).payid,"onUpdate:modelValue":e[5]||(e[5]=a=>o(l).payid=a),placeholder:"支付通道",clearable:""},{default:r(()=>[(p(!0),w(P,null,j(o(f),(a,G)=>(p(),I(g,{key:G,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),n("div",le,[t(d,{label:"内容",prop:"content"},{default:r(()=>[t(F,{modelValue:o(l).content,"onUpdate:modelValue":e[6]||(e[6]=a=>o(l).content=a),height:667,width:375},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{pe as _};
