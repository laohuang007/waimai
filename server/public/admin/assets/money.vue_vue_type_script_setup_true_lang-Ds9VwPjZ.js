import{d as g,s as f,i as h,j as _,o as C,a as F,m as e,w as s,e as t,E as U}from"./index-CSq49O89.js";import{E as q,a as B}from"./el-form-item-D2KaSZi6.js";import"./el-tag-DCrYKok3.js";import{E as D,a as I}from"./el-select-myCgb1GQ.js";import{f as P}from"./admin-CKnxMmuh.js";import{P as S}from"./index-BSLFXMtF.js";const j={class:"edit-popup"},H=g({__name:"money",emits:["success","close"],setup(z,{expose:b,emit:V}){const p=V,u=f(),r=f(),i=h("操作余额"),o=_({id:"",action:2,num:"",remark:""}),v=_({action:[{required:!0,message:"请选择操作状态",trigger:["blur"]}],num:[{required:!0,message:"请输入变动金额",trigger:["blur"]}]}),x=async()=>{var l,a;await((l=u.value)==null?void 0:l.validate()),await P(o),(a=r.value)==null||a.close(),p("success")},E=()=>{var l;(l=r.value)==null||l.open()},k=async l=>{o.id=l.id,i.value=l.name+"-操作余额"},w=()=>{p("close")};return b({open:E,setFormData:k}),(l,a)=>{const c=D,y=I,m=q,d=U,R=B;return C(),F("div",j,[e(S,{ref_key:"popupRef",ref:r,title:t(i),async:!0,width:"550px",onConfirm:x,onClose:w},{default:s(()=>[e(R,{ref_key:"formRef",ref:u,model:t(o),"label-width":"84px",rules:t(v)},{default:s(()=>[e(m,{label:"状态",prop:"action"},{default:s(()=>[e(y,{modelValue:t(o).action,"onUpdate:modelValue":a[0]||(a[0]=n=>t(o).action=n),class:"flex-1",placeholder:"请选择操作状态",clearable:""},{default:s(()=>[e(c,{label:"减少",value:2}),e(c,{label:"增加",value:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"金额",prop:"num"},{default:s(()=>[e(d,{modelValue:t(o).num,"onUpdate:modelValue":a[1]||(a[1]=n=>t(o).num=n),placeholder:"请输入变动金额",clearable:""},null,8,["modelValue"])]),_:1}),e(m,{label:"备注",prop:"remark"},{default:s(()=>[e(d,{modelValue:t(o).remark,"onUpdate:modelValue":a[2]||(a[2]=n=>t(o).remark=n),placeholder:"请输入变动金额",autosize:{minRows:2,maxRows:4},type:"textarea",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{H as _};
