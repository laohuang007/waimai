import{d as V,s as c,i as B,c as F,j as I,o as N,a as P,m as t,w as n,e as o,b as m,E as j,L as J,J as L}from"./index-CSq49O89.js";import{E as O,a as T}from"./el-form-item-D2KaSZi6.js";import"./el-tag-DCrYKok3.js";import{E as z,a as A}from"./el-select-myCgb1GQ.js";import{_ as G}from"./picker-B5B6R_zK.js";import{h as H,i as K}from"./paypal-DPZQbWTa.js";import{P as M}from"./index-BSLFXMtF.js";const Q={class:"edit-popup"},W=V({name:"articleColumnEdit"}),oe=V({...W,emits:["success","close"],setup(X,{expose:g,emit:v}){const p=v,i=c(),u=c(),d=B("add"),b=F(()=>d.value=="edit"?"编辑支付":"新增支付"),l=I({id:"",name:"",fee_type:"USD",image:"",rate:"",sort:0,status:1}),y={name:[{required:!0,message:"请输入支付名称",trigger:["blur"]}],image:[{required:!0,message:"请选择支付图片",trigger:["blur"]}],fee_type:[{required:!0,message:"请选择货币单位",trigger:["blur"]}],rate:[{required:!0,message:"请输入费率",trigger:["blur"]}]},E=async()=>{var a,e;await((a=i.value)==null?void 0:a.validate()),await H(l),(e=u.value)==null||e.close(),p("success")},w=(a="add")=>{var e;d.value=a,(e=u.value)==null||e.open()},f=a=>{for(const e in l)a[e]!=null&&a[e]!=null&&(l[e]=a[e])},U=async a=>{const e=await K({id:a.id});f(e)},x=()=>{p("close")};return g({open:w,setFormData:f,getDetail:U}),(a,e)=>{const _=j,r=O,D=G,k=z,C=A,R=J,S=L,q=T;return N(),P("div",Q,[t(M,{ref_key:"popupRef",ref:u,title:o(b),async:!0,width:"550px",onConfirm:E,onClose:x},{default:n(()=>[t(q,{ref_key:"formRef",ref:i,model:o(l),"label-width":"84px",rules:y},{default:n(()=>[t(r,{label:"支付名称",prop:"name"},{default:n(()=>[t(_,{modelValue:o(l).name,"onUpdate:modelValue":e[0]||(e[0]=s=>o(l).name=s),placeholder:"请输入支付名称",clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"支付图片",prop:"image"},{default:n(()=>[m("div",null,[m("div",null,[t(D,{modelValue:o(l).image,"onUpdate:modelValue":e[1]||(e[1]=s=>o(l).image=s),limit:1},null,8,["modelValue"])]),e[6]||(e[6]=m("div",{class:"form-tips"},"建议尺寸：384*216px",-1))])]),_:1}),t(r,{class:"w-[280px]",label:"货币单位",prop:"fee_type"},{default:n(()=>[t(C,{modelValue:o(l).fee_type,"onUpdate:modelValue":e[2]||(e[2]=s=>o(l).fee_type=s)},{default:n(()=>[t(k,{label:"USD",value:"USD"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"费率",prop:"rate"},{default:n(()=>[t(_,{modelValue:o(l).rate,"onUpdate:modelValue":e[3]||(e[3]=s=>o(l).rate=s),placeholder:"请输入费率",clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"排序",prop:"sort"},{default:n(()=>[m("div",null,[t(R,{modelValue:o(l).sort,"onUpdate:modelValue":e[4]||(e[4]=s=>o(l).sort=s),min:0,max:9999},null,8,["modelValue"]),e[7]||(e[7]=m("div",{class:"form-tips"},"默认为0， 数值越大越排前",-1))])]),_:1}),t(r,{label:"状态",prop:"status"},{default:n(()=>[t(S,{modelValue:o(l).status,"onUpdate:modelValue":e[5]||(e[5]=s=>o(l).status=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{oe as _};
