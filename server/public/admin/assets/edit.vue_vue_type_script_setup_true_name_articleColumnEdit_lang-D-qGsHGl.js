import{d as _,s as c,i as h,c as B,j as F,o as I,a as N,m as a,w as n,e as s,b as f,E as U,L as P,J as S}from"./index-CSq49O89.js";import{E as j,a as q}from"./el-form-item-D2KaSZi6.js";import{g as A,a as J,b as L}from"./goods-D00gdu2c.js";import{P as T}from"./index-BSLFXMtF.js";const z={class:"edit-popup"},G=_({name:"articleColumnEdit"}),W=_({...G,emits:["success","close"],setup(H,{expose:v,emit:b}){const d=b,i=c(),m=c(),u=h("add"),w=B(()=>u.value=="edit"?"编辑分类":"新增分类"),t=F({id:"",name:"",sort:0,status:1}),V={name:[{required:!0,message:"请输入分类名称",trigger:["blur"]}]},E=async()=>{var o,e;await((o=i.value)==null?void 0:o.validate()),u.value=="edit"?await A(t):await J(t),(e=m.value)==null||e.close(),d("success")},C=(o="add")=>{var e;u.value=o,(e=m.value)==null||e.open()},p=o=>{for(const e in t)o[e]!=null&&o[e]!=null&&(t[e]=o[e])},g=async o=>{const e=await L({id:o.id});p(e)},x=()=>{d("close")};return v({open:C,setFormData:p,getDetail:g}),(o,e)=>{const y=U,r=j,R=P,k=S,D=q;return I(),N("div",z,[a(T,{ref_key:"popupRef",ref:m,title:s(w),async:!0,width:"550px",onConfirm:E,onClose:x},{default:n(()=>[a(D,{ref_key:"formRef",ref:i,model:s(t),"label-width":"84px",rules:V},{default:n(()=>[a(r,{label:"分类名称",prop:"name"},{default:n(()=>[a(y,{modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).name=l),placeholder:"请输入分类名称",clearable:""},null,8,["modelValue"])]),_:1}),a(r,{label:"排序",prop:"sort"},{default:n(()=>[f("div",null,[a(R,{modelValue:s(t).sort,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).sort=l),min:0,max:9999},null,8,["modelValue"]),e[3]||(e[3]=f("div",{class:"form-tips"},"默认为0， 数值越大越排前",-1))])]),_:1}),a(r,{label:"状态",prop:"status"},{default:n(()=>[a(k,{modelValue:s(t).status,"onUpdate:modelValue":e[2]||(e[2]=l=>s(t).status=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{W as _};
